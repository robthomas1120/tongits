<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Tongits Premium</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@400;700&display=swap" rel="stylesheet">
    <script src="/socket.io/socket.io.js"></script>
</head>

<body>
    <div id="game-container">
        <!-- Lobby Screen -->
        <div id="lobby-screen" class="glass-panel">
            <h1>Tongits Lobby</h1>

            <div id="join-section">
                <input type="text" id="player-name" placeholder="Enter Name..." autocomplete="off">
                <button id="join-btn">Join Lobby</button>
            </div>

            <div id="status-section" class="hidden">
                <div class="lobby-info">
                    <h3>Players in Lobby</h3>
                    <div id="player-list"></div>
                </div>

                <div id="host-controls">
                    <div class="control-row">
                        <select id="bot-difficulty">
                            <option value="easy">Easy Bot</option>
                            <option value="medium" selected>Medium Bot</option>
                            <option value="hard">Hard Bot</option>
                        </select>
                        <button id="add-bot-btn">Add Bot</button>
                    </div>
                    <button id="start-game-btn" class="primary-btn" disabled>Start Game</button>
                </div>
            </div>
        </div>

        <!-- Game Board (Table) -->
        <div id="game-screen" class="hidden">
            <!-- Global Controls at Top -->
            <div id="controls">
                <button id="draw-stock-btn">Draw</button>
                <button id="draw-discard-btn" disabled>Pick up Discard</button>
                <button id="discard-btn" disabled>Discard</button>
                <div class="action-btns">
                    <button id="sort-btn">Sort: Rank</button>
                    <button id="group-btn">Group</button>
                    <button id="expose-btn" disabled>Expose</button>
                    <button id="suggest-btn">Sug: ON</button>
                </div>
            </div>

            <div id="table-area">
                <div class="table-felt">
                    <!-- Opponent 1 (Top-Left/Left) -->
                    <div id="player-left" class="player-slot opponent">
                        <div class="player-info-card">
                            <div class="avatar">ðŸ‘¤</div>
                            <div class="details">
                                <span class="name">Waiting...</span>
                                <span class="chips">$0</span>
                            </div>
                        </div>
                        <div class="exposed-melds-mini"></div>
                        <div class="hand-mini"></div>
                        <div class="exposed-melds"></div>
                    </div>

                    <!-- Opponent 2 (Top-Right/Right) -->
                    <div id="player-right" class="player-slot opponent">
                        <div class="player-info-card">
                            <div class="avatar">ðŸ‘¤</div>
                            <div class="details">
                                <span class="name">Waiting...</span>
                                <span class="chips">$0</span>
                            </div>
                        </div>
                        <div class="exposed-melds-mini"></div>
                        <div class="hand-mini"></div>
                        <div class="exposed-melds"></div>
                    </div>

                    <!-- Center Area -->
                    <div id="center-board">
                        <div class="pot-area">
                            <span class="pot-label">Pot</span>
                            <span id="side-pot-count">â‚±0</span>
                        </div>

                        <div class="piles-container">
                            <div class="pile-wrapper">
                                <div id="deck-pile" class="pile">
                                    <div class="card-back"></div>
                                    <span id="stock-count">0</span>
                                </div>
                                <span class="pile-label draw-label">DRAW</span>
                            </div>

                            <div class="pile-wrapper">
                                <div id="discard-pile" class="pile">
                                    <div class="empty-slot">DISCARD</div>
                                </div>
                                <span class="pile-label drop-label">DROP</span>
                            </div>
                        </div>

                        <div id="drop-area-main" class="drop-zone hidden">
                            <span>DROP AREA</span>
                        </div>
                    </div>

                    <!-- Player (Me - Bottom) -->
                    <div id="player-bottom" class="player-slot me">
                        <div id="my-exposed-melds" class="exposed-melds"></div>

                        <div class="hand-container">
                            <div id="my-hand" class="hand-area"></div>
                        </div>

                        <div class="player-info-footer">
                            <div class="player-info-card-compact">
                                <span id="my-name">Me</span>
                                <span id="my-chips">$0</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Game Log (Collapsible on mobile) -->
            <div id="game-log-container">
                <div id="game-log"></div>
            </div>
        </div>
    </div>
    <script src="client.js"></script>
</body>

</html>